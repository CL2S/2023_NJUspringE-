{"remainingRequest":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\src\\components\\uploadfile\\UploadFile.vue?vue&type=style&index=0&id=ca1aa3a2&scoped=true&lang=css&","dependencies":[{"path":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\src\\components\\uploadfile\\UploadFile.vue","mtime":1547344386000},{"path":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\node_modules\\css-loader\\index.js","mtime":1680832645923},{"path":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1680832641934},{"path":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\node_modules\\postcss-loader\\lib\\index.js","mtime":1680832643173},{"path":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680832646317},{"path":"E:\\2023春季课程\\大实验\\ElementVueSpringbootCodeTemplate-master\\WebProject\\node_modules\\vue-loader\\lib\\index.js","mtime":1680832641838}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.grid-content {\n  border: 1px solid;\n  min-height: 210px;\n  background-color: #fefefe;\n  padding: 20px;\n}\n",{"version":3,"sources":["UploadFile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA","file":"UploadFile.vue","sourceRoot":"src\\components\\uploadfile","sourcesContent":["<template>\n<div>\n<el-row :gutter=\"20\">\n  <el-col :span=\"12\">\n    <div class=\"grid-content bg-purple\">\n        <el-upload\n        class=\"upload-demo\"\n        ref=\"upload\"\n        :multiple=\"true\"\n        action=\"/upload/\"\n        :on-preview=\"handlePreview\"\n        :on-remove=\"handleRemove\"\n        :before-remove=\"beforeRemove\"\n        :file-list=\"fileList\"\n        :before-upload=\"beforeUpload\"\n        :auto-upload=\"false\">\n        <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n        <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传到服务器</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n        </el-upload>\n      </div>\n  </el-col>\n  <el-col :span=\"12\">\n      <div class=\"grid-content bg-purple\">\n        <el-upload\n            class=\"upload-demo\"\n            drag\n            action=\"/upload/\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :before-remove=\"beforeRemove\"\n            :file-list=\"fileList\"\n            :before-upload=\"beforeUpload\"\n            multiple>\n            <i class=\"el-icon-upload\"></i>\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n            <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div>\n            </el-upload>\n      </div>\n  </el-col>\n</el-row>\n</div>\n\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fileList: [\n      ]\n    };\n  },\n  methods: {\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(\n        `当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length +\n          fileList.length} 个文件`\n      );\n    },\n    beforeUpload(file) {\n      console.log(\"before-upload\", file);\n\n      let param = new FormData(); // 创建form对象\n\n      // file对象是 beforeUpload参数\n      param.append(\"file\", file, file.name);\n\n      let config = {\n        headers: { \"Content-Type\": \"multipart/form-data\" }\n      };\n\n      // 添加请求头\n      this.ajax.post(\"/upload/\", param, config).then(result => {\n        if (result.code == 0) {\n          this.fileList.push(result.data);\n          this.info(\"上传成功!\");\n        } else {\n          this.error(result.msg);\n        }\n      });\n\n      return false;\n    },\n    // FIXME not worked\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    submitUpload() {\n      this.$refs.upload.submit();\n    }\n  }\n};\n</script>\n<style scoped>\n.grid-content {\n  border: 1px solid;\n  min-height: 210px;\n  background-color: #fefefe;\n  padding: 20px;\n}\n</style>\n"]}]}